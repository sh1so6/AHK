#Requires AutoHotkey v2.0
#SingleInstance Force

; --------------------------------------------------------------
; 1. CapsLockを「半角/全角」キーにリマップ
; --------------------------------------------------------------
CapsLock::Send "{vkF3sc029}"

; --------------------------------------------------------------
; 2. Altキーの空打ち設定 (長押し・同時押しはAltのまま)
; --------------------------------------------------------------

; 左Alt空打ち → 変換キー (IME ON)
~LAlt Up::
{
    if (A_PriorKey = "LAlt")
    {
        Send "{vk1C}"  ; 変換キー
    }
}

; 右Alt空打ち → 無変換キー (IME OFF)
~RAlt Up::
{
    if (A_PriorKey = "RAlt")
    {
        Send "{vk1D}"  ; 無変換キー
    }
}